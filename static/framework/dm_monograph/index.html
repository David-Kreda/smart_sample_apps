<!DOCTYPE html>
<html>
  <!--
    SMART Diabetes Monograph
    ========================

    From the SMART Project <http://www.smartplatforms.org/>
    Arjun Sanyal <arjun.sanyal@childrens.harvard.edu> - Design and Implementation

    Notes:
    - Designed for a 1280x1024 window size

    TODO:
    - fill in requires in manifest file
  -->
  <head>
    <title>SMART Diabetes Monograph</title>
      <link rel='stylesheet' href='./assets/fluid_grid_60_12_0.css'>
      <link rel='stylesheet' href='./assets/main.css'>

      <script src='../smart/scripts/smart-api-client.js'></script>
      <!-- note: we take the SMART jQuery object and make it global -->
      <script> $ = jQuery = SMART.$; </script>
      <script src='./js/xdate.js'></script>
      <script src='./js/jsonld.js'></script>
      <script src='./js/flot/jquery.flot.min.js'></script>
      <script src='./js/flot/jquery.flot.resize.min.js'></script>
      <!--[if lte IE 8]><script src="./js/flot/excanvas.min.js"></script><![endif]-->
      <script src='./js/underscore.min.js'></script>
      <script src='./js/json2.js'></script>
      <script src='./js/jquery.tools.overlay.js'></script>
      <script src='./js/main.js'></script>
  </head>
  <body>

    <div id='app_title_line'>
      <img class='smart_bug' src='./assets/smart_bug.png' />
      SMART Diabetes Monograph
    </div>

    <div id='content' class="container_12">

      <div class='demo_line'>
        <div style='width: 48%; float: left; margin-bottom: 10px;' class='name'>
          <span class='family_name'></span>, <span class='given_name'></span>
        </div>
        <div class='diabetic_diagnosis_p' style='width: 48%; float: left; text-align: right; margin-bottom: 10px;'>
          &nbsp;
          <!-- <span class='demo_line_label' style='display: none;' class='diabetic_info_label'>DIAGNOSIS</span> -->
          <span class='diabetic_info highlight'></span>
          <span class='diabetic_how_long_text highlight'></span>
        </div>
      </div>

      <div class='demo_line' style='font-weight: normal !important; font-size: 14px;'>
        <div style='width: 48%; float: left'>
          <span class='demo_line_label'>DOB</span> <span class='birthday'></span>&nbsp;&nbsp;
          <span class='demo_line_label'>AGE</span> <span class='age'></span>&nbsp;&nbsp;
          <span class='demo_line_label'>SEX</span> <span class='gender'></span>&nbsp;&nbsp;
        </div>
      </div>

      <div class='clear'></div>

      <div id='column_1' class='grid_3'>
        <div class='section_header'>
          BP <span class='normal smaller'>goal <span class='medium'>&lt; 130/80</span>&thinsp;mm/hg</span>
        </div>

        <div id='bp_graph'></div>

        <div class='section_header'>
          <div style='width: 60%; float: left'>Last Known Values</div>
          <div style='width: 38%; float: left; text-align: right'>
            <a href='' id='show_overlay' rel="#lkv_overlay"/>[Graph]</a>
          </div>
          <div class='clear'></div>
        </div>

        <div class="grid_1 alpha" style='width: 37%; margin-right: 0px;'>
          <div>
            <span class='test_name'>Ur tp</span>
            <span class='smaller' id='ur_tp_unit'></span>
          </div>
          <div class='smaller'>0-135</div>

          <div class='gray'>
            <span class='test_name'>&micro;alb/cre</span>
            <span class='smaller' id='m_alb_cre_ratio_unit'></span>
          </div>
          <div class='gray smaller'>&lt; 30.0</div>

          <div>
            <span class='test_name'>SGOT</span>
            <span class='smaller' id='sgot_unit'></span>
          </div>
          <div class='smaller'>10-40</div>

          <div class='gray'>
            <span class='test_name'>Chol</span>
            <span class='smaller' id='chol_total_unit'></span>
          </div>
          <div class='gray smaller'>&lt;&thinsp;200</div>

          <div>
            <span class='test_name'>Tri</span>
            <span class='smaller' id='triglyceride_unit'></span>
          </div>
          <div class='smaller'>&lt;&thinsp;150</div>

          <div class='gray'>
            <span class='test_name'>HDL</span>
            <span class='smaller' id='hdl_unit'></span>
          </div>
          <div class='gray smaller'>&gt;&thinsp;40</div>

          <div>
            <span class='test_name'>LDL</span>
            <span class='smaller' id='ldl_unit'></span>
          </div>
          <div class='smaller'>&lt;&thinsp;100</div>

          <div class='gray'>
            <span class='test_name'>BUN</span>
            <span class='smaller' id='bun_unit'></span>
          </div>
          <div class='gray smaller'>8%-25%</div>

          <div>
            <span class='test_name'>Cre</span>
            <span class='smaller' id='creatinine_unit'></span>
          </div>
          <div class='smaller'>0.6-1.5</div>

          <div class='gray'>
            <span class='test_name'>Glu</span>
            <span class='smaller' id='glucose_unit'></span>
          </div>
          <div class='gray smaller'>70-110</div>

          <div>
            <span class='test_name'>A1C</span>
            <span class='smaller' id='a1c_unit'></span>
          </div>
          <div class='smaller'>&lt;&thinsp;7%</div>
        </div>

        <div class="grid_1" style='width: 31%; margin-left: 0px; margin-right: 0px;'>
          <div>
            <span id='ur_tp_val' class='test_value'>&nbsp;</span>
          </div>
          <div>
            <span id='ur_tp_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='m_alb_cre_ratio_val' class='test_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='m_alb_cre_ratio_date'>&nbsp;</span>
          </div>

          <div>
            <span id='sgot_val' class='test_value'>&nbsp;</span>
          </div>
          <div>
            <span id='sgot_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='chol_total_val' class='test_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='chol_total_date'>&nbsp;</span>
          </div>

          <div>
            <span id='triglyceride_val' class='test_value'>&nbsp;</span>
          </div>
          <div>
            <span id='triglyceride_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='hdl_val' class='test_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='hdl_date'>&nbsp;</span>
          </div>

          <div>
            <span id='ldl_val' class='test_value'>&nbsp;</span>
          </div>
          <div>
            <span id='ldl_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='bun_val' class='test_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='bun_date'>&nbsp;</span>
          </div>

          <div>
            <span id='creatinine_val' class='test_value'>&nbsp;</span>
          </div>
          <div>
            <span id='creatinine_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='glucose_val' class='test_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='glucose_date'>&nbsp;</span>
          </div>

          <div>
            <span id='a1c_val' class='test_value'>&nbsp;</span>
          </div>
          <div>
            <span id='a1c_date'>&nbsp;</span>
          </div>
        </div>

        <div class="grid_1 omega" style='width: 31%; margin-left: 0px;'>
          <div>
            <span id='ur_tp_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div>
            <span id='ur_tp_next_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='m_alb_cre_ratio_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='m_alb_cre_ratio_next_date'>&nbsp;</span>
          </div>

          <div>
            <span id='sgot_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div>
            <span id='sgot_next_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='chol_total_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='chol_total_next_date'>&nbsp;</span>
          </div>

          <div>
            <span id='triglyceride_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div>
            <span id='triglyceride_next_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='hdl_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='hdl_next_date'>&nbsp;</span>
          </div>

          <div>
            <span id='ldl_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div>
            <span id='ldl_next_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='bun_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='bun_next_date'>&nbsp;</span>
          </div>

          <div>
            <span id='creatinine_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div>
            <span id='creatinine_next_date'>&nbsp;</span>
          </div>

          <div class='gray'>
            <span id='glucose_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div class='gray'>
            <span id='glucose_next_date'>&nbsp;</span>
          </div>

          <div>
            <span id='a1c_next_val' class='test_next_value'>&nbsp;</span>
          </div>
          <div>
            <span id='a1c_next_date'>&nbsp;</span>
          </div>
        </div>
      </div>

      <div id='column_2' class='grid_3'>
        <div class='section_header'>
          LDL <span class='normal smaller'>goal <span class='medium'>&lt; 100</span>&thinsp;mg/dL</span>
        </div>

        <div id='ldl_graph'></div>

        <div id='other_info'>
          <div class='section_header'>Other Info</div>

          <div>
            <div style='width: 28%; float: left'><span class='bold'>weight</span></div>
            <div style='width: 40%; float: left'>lbs <span id='weight_val_lb'></span>
              &nbsp;<span class='x-grayer'>kg <span id='weight_val_kg'></span></span>
            </div>
            <div style='width: 30%; float: left; text-align: right' id='weight_date'></div>
            <div class='clear'></div>
          </div>

          <div class='gray'>
            <div style='width: 28%; float: left'><span class='bold'>height</span></div>
            <div style='width: 40%; float: left'>in <span id='height_val_in'></span>
              &nbsp;<span class='x-grayer'>cm <span id='height_val_cm'></span></span>
            </div>
            <div style='width: 30%; float: left; text-align: right' id='height_date'></div>
            <div class='clear'></div>
          </div>

          <div>
            <div style='width: 49%; float: left'><span class='bold'>last foot exam</span></div>
            <!-- hack: just make highlight since we don't have this data yet -->
            <div style='width: 49%; float: left; text-align: right' id='foot_exam_date' class=''>Unknown</div>
            <div class='clear'></div>
          </div>

          <div class='gray'>
            <div style='width: 49%; float: left'><span class='bold'>last eye exam</span></div>
            <div style='width: 49%; float: left; text-align: right' id='eye_exam_date' class=''>Unknown</div>
            <div class='clear'></div>
          </div>

          <div>
            <div style='width: 30%; float: left'><span class='bold'>smoking</span></div>
            <div style='width: 68%; float: left; text-align: right' id='smoking_status'>Unknown</div>
            <div class='clear'></div>
          </div>

          <div class='gray'>
            <div style='width: 30%; float: left'><span class='bold'>aspirin</span></div>
            <div style='width: 68%; float: left; text-align: right' id='aspirin_tolerance'>Unknown</div>
            <div class='clear'></div>
          </div>

          <div>
            <div style='width: 30%; float: left'><span class='bold'>ACE/ARB</span></div>
            <div style='width: 68%; float: left; text-align: right' id='ace_arb_status'>Unknown</div>
            <div class='clear'></div>
          </div>

          <div class='gray'>
            <div style='width: 68%; float: left'><span class='bold'>last pneumovax</span></div>
            <div style='width: 30%; float: left; text-align: right' id='pneumovax_date' class=''></div>
            <div class='clear'></div>
          </div>

          <div>
            <div style='width: 68%; float: left'><span class='bold'>last flu shot</span></div>
            <div style='width: 30%; float: left; text-align: right' id='flu_shot_date' class=''></div>
            <div class='clear'></div>
          </div>
        </div>

        <div id='problems_header'>
          <!-- hidden problems div for sorting. todo: clean this up in the js-->
          <div class='section_header'>Problems <span id='as_of'></span></div>

          <div id='problems' style='display: none'></div>

          <div id='major_cv_comorbidities'>
            <div class='section_subheader'>Major CV Comorbidities</div>
            <div id='cv_comorbidities'></div>
          </div>

          <div>
            <div class='section_subheader'>Others</div>
            <div id='other_problems'></div>
          </div>

          <div>
            <div class='section_subheader'>Closed <span style='font-size: smaller; font-weight: normal;'>(on date)</span></div>
            <div id='resolved_problems'></div>
          </div>

        </div>
      </div>

      <div id='column_3' class='grid_6'>
        <div>
          <div class='section_header' style='width: 48%; float: left'> A1C <span class='normal smaller'>goal <span class='medium'>&lt; 7%</span></span></div>
          <div style='width: 48%; float: left; text-align: center; margin: 12px 0px 6px 16px'>
            <a rel='#pt_summary' id='show_pt_summary_overlay'/>Patient Summary</a>
            &middot;
            <a target="_blank" href='./app_explainer.html'/>App Explainer</a>
            <br />
            <a target="_blank" href='./timeline.html'/>Time Line</a>
          </div>
          <div class='clear'></div>
        </div>

        <div style='height: 100px; width:48%; float: left; margin-top: -17px;'>
          <div id='a1c_graph'></div>
        </div>

        <div id='controls' class='controls' style='width: 30%; float: left; text-align: right; padding-top: 38px;'>
          <div>
            <img style='width: 125px; margin: -37px 0 0 85px;' id='sort_by_date' src='./assets/show_chrono_view.png' />
            <img style='width: 125px; margin: -37px 0 0 85px; display: none' id='sort_by_alpha' style='display: none' src='./assets/show_alpha_view.png' />
          </div>
        </div>

        <div class='clear'></div>

        <div class='clear'></div>

        <div id='reminders_outer'>
          <div class='section_header'>Reminders</div>
          <div id='reminders'></div>
        </div>

        <div id='allergies_outer'>
          <div class='section_header'>Allergies</div>
          <div id='allergies'></div>
        </div>

        <div id='medications_outer'>
          <div class='section_header'>Medications <span id='meds_as_of'></span></div>
          <div id='medications'></div>
        </div>
      </div>
    </div>

    <div class="lkv_overlay" id="lkv_overlay">
      <div id='lkv_overlay_title_line'>
        <div style='width: 78%; float: left; margin-left: 10%'>
          <img class='smart_bug' src='./assets/smart_bug.png' />
          SMART Diabetes Monograph Labs
        </div>
        <div style='width: 20%; float: left; text-align: right; margin-left: -10%; font-size: smaller'>
          <a class='close' href='#'>[Close]</a>
        </div>
      </div>

      <div class='clear'></div>

      <div class='demo_line'>
        <div style='width: 48%; float: left; margin: 10px 0px;' class='name'>
          <span class='family_name'></span>, <span class='given_name'></span>
        </div>
        <div class='diabetic_diagnosis_p' style='width: 48%; float: left; text-align: right; margin: 10px 0px; display: none'>
          &nbsp;
          <!-- <span class='demo_line_label diabetic_info_label'>DIAGNOSIS</span> -->
          <span class='diabetic_info highlight'></span>
          <span class='diabetic_how_long_text highlight'></span>
        </div>
      </div>

      <div class='demo_line' style='font-weight: normal !important; font-size: 14px;'>
        <div style='width: 48%; float: left'>
          <span class='demo_line_label'>DOB</span> <span class='birthday'></span>&nbsp;&nbsp;
          <span class='demo_line_label'>AGE</span> <span class='age'></span>&nbsp;&nbsp;
          <span class='demo_line_label'>SEX</span> <span class='gender'></span>&nbsp;&nbsp;
        </div>
      </div>

      <div class='clear'></div>

      <div class="section_header">Urine Total Protein</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='ur_tp_graph'></div>
        </div>
        <div class='lkv_table_div' id='ur_tp_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">&micro;alb/cre</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='m_alb_cre_ratio_graph'></div>
        </div>
        <div class='lkv_table_div' id='m_alb_cre_ratio_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">SGOT</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='sgot_graph'></div>
        </div>
        <div class='lkv_table_div' id='sgot_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">Cholesterol</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='chol_total_graph'></div>
        </div>
        <div class='lkv_table_div' id='chol_total_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">Tri</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='triglyceride_graph'></div>
        </div>
        <div class='lkv_table_div' id='triglyceride_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">HDL</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='hdl_graph'></div>
        </div>
        <div class='lkv_table_div' id='hdl_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">LDL</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='ldl_graph_lkv'></div>
        </div>
        <div class='lkv_table_div' id='ldl_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">BUN</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='bun_graph'></div>
        </div>
        <div class='lkv_table_div' id='bun_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">Creatinine</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='creatinine_graph'></div>
        </div>
        <div class='lkv_table_div' id='creatinine_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">Glucose</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='glucose_graph'></div>
        </div>
        <div class='lkv_table_div' id='glucose_table_div'></div>
      </div>
      <div class='clear'></div>

      <div class="section_header">A1C</div>
      <div>
        <div class='lkv_graph_div'>
          <div class='lkv_graph' id='a1c_graph_lkv'></div>
        </div>
        <div class='lkv_table_div' id='a1c_table_div'></div>
      </div>
      <div class='clear'></div>
    </div>


    <div id="pt_summary" class="pt_summary">
      <div id='pt_summary_title_line'>
        <div style='width: 78%; float: left; margin-left: 10%'>
          <img class='smart_bug' src='./assets/smart_bug.png' />
          SMART Diabetes Patient Summary
        </div>
        <div style='width: 20%; float: left; text-align: right; margin-left: -10%; font-size: smaller'>
          <a class='close' href='#'>[Close]</a>
        </div>
      </div>

      <div class='clear'></div>

      <div class='demo_line'>
        <div style='width: 48%; float: left; margin-bottom: 10px;' class='name'>
          <span class='family_name'></span>, <span class='given_name'></span>
        </div>
        <div class='diabetic_diagnosis_p' style='width: 48%; float: left; text-align: right; margin-bottom: 10px;'>
          &nbsp;
          <!-- <span class='demo_line_label diabetic_info_label' style='display: none;'>DIAGNOSIS</span> -->
          <span class='diabetic_info highlight'></span>
          <span class='diabetic_how_long_text highlight'></span>
        </div>
      </div>

      <div class='demo_line' style='font-weight: normal !important; font-size: 14px;'>
        <div style='width: 48%; float: left'>
          <span class='demo_line_label'>DOB</span> <span class='birthday'></span>&nbsp;&nbsp;
          <span class='demo_line_label'>AGE</span> <span class='age'></span>&nbsp;&nbsp;
          <span class='demo_line_label'>SEX</span> <span class='gender'></span>&nbsp;&nbsp;
        </div>
      </div>

      <br />

      <div class='clear'></div>

      <div class="section_header"><span class='section_header_number'>&#10122;</span> About This Summary</div>

      <div style='margin-left: 10px'>
        This report summarizes information about your diagnosis of diabetes type 2
      </div>

      <div class="section_header"><span class='section_header_number'>&#10123;</span> Your Test Results</div>

      <div class='test_ps'>
        <div style='width: 33%; float: left'>
          <div class='header'>Blood Pressure</div>
          <div class='ps_graph' id='bp_graph_ps'></div>
        </div>
        <div style='width: 63%; float: left; margin-top: 16px;'>
          <div style='width: 45%; float: left;  margin-right: 10px;'>
            <div><span class='label'>LAST TEST</span> <span id='bp_date_ps'></span></div>
          </div>
          <div style='width: 50%; float: left'>
            <div>
              <span style='color: #afd8f8; font-weight: bold'>O</span>
              <span class='label'>SYSTOLIC VALUE</span>
              <span id='bp_systolic_ps'></span>
            </div>
            <div>
              <span style='color: #EDC240; font-weight: bold'>O</span>
              <span class='label'>DIASTOLIC VALUE</span>
              <span id='bp_diastolic_ps'></span>
            </div>
          </div>
        </div>
      </div>

      <div class='clear'></div>

      <div class='test_ps'>
        <div style='width: 33%; float: left'>
          <div class='header'>LDL</div>
          <div class='ps_graph' id='ldl_graph_ps'></div>
        </div>
        <div style='width: 63%; float: left; margin-top: 16px;'>

          <div id='ldl_explanation_ps' class='' style="margin-bottom: 8px;">
            LDL measures low density lipoproteins (the "bad cholesterol")
          </div>

          <div style='margin-bottom: 8px;'>
            <span class='label'>LAST TEST</span> <span id='ldl_date_ps'></span>
          </div>

          <div><span id='ldl_ps'></span></div>
        </div>
      </div>

      <div class='clear'></div>

      <div class='test_ps'>
        <div style='width: 33%; float: left'>
          <div class='header'>A1C</div>
          <div class='ps_graph' id='a1c_graph_ps'></div>
        </div>
        <div style='width: 63%; float: left; margin-top: 16px;'>
          <div id='a1c_explanation_ps' style='margin-bottom: 8px;'>
            The A1C test measures average blood sugar concentration
          </div>
          <div style='margin-bottom: 8px;'>
            <span class='label'>LAST TEST</span> <span id='a1c_date_ps'></span>
          </div>
          <div><span id='a1c_ps'></span></div>
        </div>
      </div>

      <div class='clear'></div>

      <br />

      <div>
        <div style='width: 33%; float: left'>
          <div class="section_header">
            <span class='section_header_number'>&#10124;</span>
            Your Allergies
          </div>
          <div id='allergies_ps' style="margin-left: 10px;"></div>
        </div>
        <div style='width: 63%; float: left;'>
          <div class="section_header">
            <span class='section_header_number'>&#10125;</span>
            Your Medications
          </div>
          <div id='medications_ps' style="margin-left: 10px; width: 50%; float: left;"></div>
          <div id='medications_2_ps' style="margin-left: 10px; width: 50%; float; left;"></div>
        </div>
      </div>

      <div class='clear'></div>

      <br />

      <div class="section_header"><span class='section_header_number'>&#10126;</span> What Should You Do Now?</div>

      <div>
        <ol id='reminders_for_pt'></ol>
      </div>

    </div>
  </body>
</html>
